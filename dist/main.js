(()=>{"use strict";const e=()=>({createTodo:(e,t,o,n,d,a)=>({title:e,desc:t,due:o,prio:n,isDone:d,id:Math.floor(1e4*Math.random())}),getTitle:e=>e.title,getDesc:e=>e.desc,getDue:e=>e.due,getPrio:e=>e.prio,setPrio:(e,t)=>{e.prio=t},getIsDone:e=>e.isDone,setIsDone:e=>{e.isDone?e.isDone=!1:e.isDone=!0},getId:e=>e.id}),t=()=>({createProject:(e,t,o)=>({name:e,id:Math.floor(1e4*Math.random()),todoList:t}),getName:e=>e.name,getId:e=>e.projectId,getTodoList:e=>e.todoList,addTodo:(e,t)=>{e.todoList.push(t)},removeTodo:(e,t)=>{let o=e.todoList.filter((e=>e.id!==t));e.todoList=o,console.log(e.todoList)}}),o=e=>{const o=t(),n=document.getElementById("project-list"),a=document.createElement("li"),c=document.createElement("button");c.classList.add("remove-btn"),c.innerHTML="X",c.dataset.projectId=e.id,a.innerHTML=o.getName(e),a.appendChild(c),n.append(a),d(e.todoList)},n=()=>{document.getElementById("project-list").innerHTML="";for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);o(JSON.parse(localStorage.getItem(t)))}},d=t=>{e(),document.querySelector(".main-content"),t.forEach((e=>{a(e)}))},a=t=>{const o=e(),n=document.querySelector(".main-content"),d=document.createElement("div");d.classList.add("todo-container");const a=document.createElement("h3");a.innerHTML=o.getTitle(t),a.classList.add("todo-title"),d.appendChild(a);const c=document.createElement("p");c.innerHTML=o.getDesc(t),c.classList.add("todo-desc"),d.appendChild(c);const l=document.createElement("p");l.innerHTML=o.getDue(t),l.classList.add("todo-due"),d.appendChild(l);const r=document.createElement("p");r.innerHTML=o.getPrio(t),r.classList.add("todo-prio"),d.appendChild(r);const i=document.createElement("p");i.innerHTML=o.getIsDone(t),i.classList.add("todo-done"),d.appendChild(i);const s=document.createElement("button");s.dataset.id=o.getId(t),s.innerHTML="X",d.appendChild(s),n.appendChild(d)},c=e=>{t();for(let t=0;t<localStorage.length;t++){let o=localStorage.key(t);if(JSON.parse(localStorage.getItem(o)).id==e)return t}return-1};document.addEventListener("DOMContentLoaded",(function(){(()=>{const l=document.querySelector(".add-task-btn"),r=document.querySelector(".input-modal");n();const i=e(),s=[i.createTodo("test","test","test","low",!1)];l.addEventListener("click",(function(){r.showModal()})),d(s),document.getElementById("add-task-submit").addEventListener("click",(function(e){e.preventDefault();let t=document.getElementById("title").value,o=document.getElementById("desc").value,n=document.getElementById("date").value,d=document.getElementById("priority").value;a(i.createTodo(t,o,n,d,!1,Math.floor(1e4*Math.random())))}));const m=document.getElementById("add-project-btn"),u=t();m.addEventListener("click",(function(e){e.preventDefault();let t=document.getElementById("project-name").value,n=u.createProject(t,[]);localStorage.setItem(t,JSON.stringify(n)),o(n),console.log(n),setRemoveBtn(n.id)})),document.getElementById("project-list").addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&"LI"===e.target.parentElement.tagName&&(e=>{let t=c(e);localStorage.removeItem(localStorage.key(t)),n()})(e.target.getAttribute("data-project-id"))}))})()}))})();